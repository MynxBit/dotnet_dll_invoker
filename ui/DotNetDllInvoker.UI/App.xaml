<Application x:Class="DotNetDllInvoker.UI.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:DotNetDllInvoker.UI.ViewModels"
             xmlns:selectors="clr-namespace:DotNetDllInvoker.UI.Selectors"
             StartupUri="Views/MainWindow.xaml">
    <Application.Resources>
        <!-- Styles -->
        <SolidColorBrush x:Key="DarkBackground" Color="#1E1E1E"/>
        <SolidColorBrush x:Key="DarkPanel" Color="#252526"/>
        <SolidColorBrush x:Key="LightText" Color="#D4D4D4"/>
        <SolidColorBrush x:Key="AccentColor" Color="#007ACC"/>
        
        <Style TargetType="Window">
            <Setter Property="Background" Value="{StaticResource DarkBackground}"/>
            <Setter Property="Foreground" Value="{StaticResource LightText}"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource DarkPanel}"/>
            <Setter Property="Foreground" Value="{StaticResource LightText}"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#333333"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="5"/>
        </Style>

        <!-- Data Templates for Parameters (The Dynamic Engine) -->
        <DataTemplate x:Key="StringParamTemplate" DataType="{x:Type vm:StringParameterViewModel}">
            <StackPanel Margin="0,5">
                <TextBlock Text="{Binding Name}" FontWeight="Bold" Foreground="#4EC9B0"/>
                <TextBox Text="{Binding Value, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="IntParamTemplate" DataType="{x:Type vm:IntParameterViewModel}">
            <StackPanel Margin="0,5">
                <TextBlock Text="{Binding Name}" FontWeight="Bold" Foreground="#B5CEA8"/>
                <TextBox Text="{Binding Value, UpdateSourceTrigger=PropertyChanged}"/>
            </StackPanel>
        </DataTemplate>

        <DataTemplate x:Key="BoolParamTemplate" DataType="{x:Type vm:BoolParameterViewModel}">
             <CheckBox IsChecked="{Binding Value}" Content="{Binding Name}" Margin="0,5"/>
        </DataTemplate>

        <BooleanToVisibilityConverter x:Key="BoolToVis"/>

        <!-- Selector -->
        <selectors:ParameterTemplateSelector x:Key="ParameterSelector"
            StringTemplate="{StaticResource StringParamTemplate}"
            IntTemplate="{StaticResource IntParamTemplate}"
            BoolTemplate="{StaticResource BoolParamTemplate}"/>

    </Application.Resources>
</Application>
